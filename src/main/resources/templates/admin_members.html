<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
    <meta charset="UTF-8">
    <title>Admin - Miembros</title>
    <style>
        body{margin:0;font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;background:#f5f6fa}
        header{background:#2E7D32;color:#fff;padding:12px 16px}
        .container{max-width:1100px;margin:16px auto;padding:0 16px}
        table{width:100%;border-collapse:collapse;background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 8px 24px rgba(0,0,0,.08)}
        th,td{padding:10px;border-bottom:1px solid #e9ecef;text-align:left}
        .btn{display:inline-block;padding:8px 10px;border:none;border-radius:8px;background:#2E7D32;color:#fff;cursor:pointer}
        .btn.danger{background:#dc3545}
        .actions{display:flex;gap:8px}
        a{color:#2E7D32;text-decoration:none}
    </style>
</head>
<body>
<header>
    <div style="display:flex;justify-content:space-between;align-items:center;">
        <div>Administración — Miembros</div>
        <nav><a href="/admin/passes" style="color:#fff;text-decoration:underline">Gestionar pases</a></nav>
    </div>
</header>
<div class="container">
    <table>
        <thead>
        <tr>
            <th>ID</th><th>Nombre</th><th>Teléfono</th><th>Email</th><th>Verificación</th><th>Acciones</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="m : ${members}">
            <td th:text="${m.id}">1</td>
            <td th:text="${m.fullName} ?: ${m.name}">Nombre Apellidos</td>
            <td th:text="${m.phone}">600...</td>
            <td th:text="${m.email}">correo@dominio.com</td>
            <td>
                <span th:text="${m.emailVerified} ? 'Email ✔' : 'Email ✖'">Email ✔</span> ·
                <span th:text="${m.addressVerified} ? 'Domicilio ✔' : 'Domicilio ✖'">Domicilio ✖</span>
            </td>
            <td class="actions">
                <a class="btn" th:href="@{'/admin/members/' + ${m.id} + '/edit'}">Editar</a>
                <form th:action="@{'/admin/members/' + ${m.id} + '/delete'}" method="post" style="margin:0">
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                    <button class="btn danger" type="submit" onclick="return confirm('¿Eliminar miembro?')">Borrar</button>
                </form>
            </td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>
